<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>

<body style="font-family:Arial, Helvetica, sans-serif">
    <h1>Search Flights</h1>
    <script>
        {% if error[0]==True %}
            alert('{{ error[1] }}');
        {% endif %}
    </script>
    <form method="post">
        <label for="departure_airport">Departure Airport:</label>
        <input type="text" id="departure_airport" name="departure_airport">
        <label for="departure_city">Departure City:</label>
        <input type="text" id="departure_city" name="departure_city"><br>
        <label for="arrival_airport">Arrival Airport:</label>
        <input type="text" id="arrival_airport" name="arrival_airport">
        <label for="arrival_city">Arrival City:</label>
        <input type="text" id="arrival_city" name="arrival_city"><br>
        <label for="departure_date_from">Departure Date from:</label>
        <input type="date" id="departure_date_from" name="departure_date_from" >
        <label for="departure_date_to"> to:</label>
        <input type="date" id="departure_date_to" name="departure_date_to"><br>
        <input type="submit" value="Search" name="Search">
    </form>
    {% if not session.logged_in %}
    <table border="1">
        <tr>
            <th>Flight</th>
            <th>Departure Time</th>
            <th>Arrival Time</th>
            <th>Status</th>
            <th>Available seats</th>
            <th>Departure Airport</th>
            <th>Departure City</th>
            <th>Arrival Airport</th>
            <th>Arrival City</th>
        </tr>
        <tr>
            <td>Flight 1</td>
            <td>12:00</td>
            <td>14:00</td>
            <td>On Time</td>
            <td>100</td>
            <td>YYZ</td>
            <td>Toronto</td>
            <td>LAX</td>
            <td>Los Angeles</td>
        </tr>

    </table>
    {% elif session.role == 'Customer' %}
    <table border="1">
        <tr>
            <th>Flight</th>
            <th>Departure Time</th>
            <th>Arrival Time</th>
            <th>Status</th>
            <th>Available seats</th>
            <th>Departure Airport</th>
            <th>Departure City</th>
            <th>Arrival Airport</th>
            <th>Arrival City</th>
        </tr>
        <tr>
            <td>Flight 1</td>
            <td>12:00</td>
            <td>14:00</td>
            <td>On Time</td>
            <td>100</td>
            <td>YYZ</td>
            <td>Toronto</td>
            <td>LAX</td>
            <td>Los Angeles</td>
        </tr>
    </table>

    <form method="POST">
        <label for="flight_number">Book flight number: </label>
        <input type="text" id="flight_number" name="flight_number" required>
        <input type="submit" value="Book" name="Book">
    </form>

    {% elif session.role == 'Agent' %}
    <table border="1">
        <tr>
            <th>Flight</th>
            <th>Departure Time</th>
            <th>Arrival Time</th>
            <th>Status</th>
            <th>Available seats</th>
            <th>Departure Airport</th>
            <th>Departure City</th>
            <th>Arrival Airport</th>
            <th>Arrival City</th>
        </tr>
        <tr>
            <td>Flight 1</td>
            <td>12:00</td>
            <td>14:00</td>
            <td>On Time</td>
            <td>100</td>
            <td>YYZ</td>
            <td>Toronto</td>
            <td>LAX</td>
            <td>Los Angeles</td>
        </tr>
    </table>

    <form action="{{ url_for('book_flights') }}" method="POST">
        <label for="flight_number">Book flight number: </label>
        <input type="text" id="flight_number" name="flight_number" required><br>
        <label for="Customer email:" >Customer email:</label>
        <input type="email" id="email" name="email" required><br>
        <input type="submit" value="Book" name="Book">
    </form>

    {% elif session.role == 'Staff' %}
    <table border="1">
        <tr>
            <th>Flight</th>
            <th>Departure Time</th>
            <th>Arrival Time</th>
            <th>Status</th>
            <th>Available seats</th>
            <th>Departure Airport</th>
            <th>Departure City</th>
            <th>Arrival Airport</th>
            <th>Arrival City</th>
        </tr>
        <tr>
            <td>Flight 1</td>
            <td>12:00</td>
            <td>14:00</td>
            <td>On Time</td>
            <td>100</td>
            <td>YYZ</td>
            <td>Toronto</td>
            <td>LAX</td>
            <td>Los Angeles</td>
        </tr>
        <tr>
            <td colspan="9">No flights available</td>
        </tr>
    </table>
    {% endif %}
    <a href="{{ url_for('home') }}" >Home</a>
</body>